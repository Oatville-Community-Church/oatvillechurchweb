
@use 'variables' as *;
@use 'sass:color';

// BUTTONS
.custom-button, .btn {
  --btn-bg: #{$primary-color};
  --btn-bg-hover: #{$primary-color-hover};
  background: var(--btn-bg);
  color: #111;
  padding: 0.875rem 1.75rem;
  border-radius: $radius-md;
  border: none;
  cursor: pointer;
  font-weight: $font-weight-semibold;
  letter-spacing: .25px;
  position: relative;
  isolation: isolate;
  transition: background $transition-base, transform $transition-fast, box-shadow $transition-fast;
  box-shadow: $shadow-sm;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  &:hover { background: var(--btn-bg-hover); transform: translateY(-2px); box-shadow: $shadow-md; }
  &:active { transform: translateY(0); box-shadow: $shadow-sm; }
  &:focus-visible { outline: 2px solid $accent-color; outline-offset: 2px; }
}

.btn-outline {
  background: transparent;
  color: $primary-color;
  border: 2px solid $primary-color;
  &:hover { background: $primary-color; color: #111; }
}

.btn-soft { background: rgba($primary-color, .1); color: $primary-color; &:hover { background: rgba($primary-color,.18);} }

// CARDS
.card {
  background: #fff;
  border-radius: $radius-lg;
  padding: 1.75rem 1.5rem;
  box-shadow: $shadow-md;
  position: relative;
  overflow: hidden;
  transition: transform $transition-base, box-shadow $transition-base;
  &:hover { transform: translateY(-4px); box-shadow: $shadow-lg; }
  &::before { content:''; position:absolute; inset:0; background: linear-gradient(120deg, rgba($primary-color,.08), transparent 60%); opacity:0; transition:opacity $transition-base; }
  &:hover::before { opacity:1; }
}

.card-minimal { box-shadow: $shadow-sm; border:1px solid $gray-200; }

// PANELS
.panel-glass { -webkit-backdrop-filter: blur(14px); backdrop-filter: blur(14px); background: rgba($gray-900,.6); border:1px solid rgba(255,255,255,.08); }

// NAVIGATION
.nav-link { position:relative; font-weight: $font-weight-medium; letter-spacing:.025em; transition: color 0.3s ease; }
.nav-link::after { content:''; position:absolute; left:0; bottom:-6px; height:2px; width:0; background:$primary-color; transition:width $transition-base; border-radius:2px; }
.nav-link:hover::after, .nav-link[aria-current="page"]::after { width:100%; }

// HERO
.hero-section { background: $gradient-dark; position:relative; }
.hero-section::after { content:''; position:absolute; inset:0; background: radial-gradient(circle at 70% 30%, rgba(255,255,255,.08), transparent 60%); pointer-events:none; }

// TESTIMONIALS
[data-testimonials-root] article { display:flex; flex-direction:column; gap:1rem; }
[data-testimonials-root] p { font-size:.9rem; }
[data-testimonials-root] article:hover { box-shadow:$shadow-lg; }

// UTILITIES
.shadow-hover { transition: box-shadow $transition-base, transform $transition-base; &:hover { box-shadow: $shadow-lg; transform: translateY(-3px);} }
.brand-gradient-text { background:$gradient-brand; -webkit-background-clip:text; background-clip:text; color:transparent; }
.divider { height:1px; background:linear-gradient(90deg, transparent, $gray-200, transparent); margin:2.5rem 0; }

// ANIMATIONS
@keyframes fade-in-up { from { opacity:0; transform: translateY(14px);} to { opacity:1; transform:translateY(0);} }
.fade-in-up { animation: fade-in-up .7s $transition-base both; }
// Delay utilities (ordering after .fade-in-up ensures cascade without needing !important)
.anim-delay-1 { animation-delay: .1s; }
.anim-delay-2 { animation-delay: .2s; }
.anim-delay-3 { animation-delay: .3s; }

// Mobile nav slide animation (progressive enhancement, only when JS adds class)
@keyframes slide-down { from { opacity:0; transform: translateY(-0.5rem);} to { opacity:1; transform:translateY(0);} }
.animate-slide-down { animation: slide-down .25s ease-out; }

// MAP
.map-iframe { border:0; border-radius: $radius-md; box-shadow:$shadow-md; }

// LITE YOUTUBE EMBED
.lite-yt { position:relative; display:block; width:100%; height:100%; cursor:pointer; background:#000; border:0; padding:0; border-radius:$radius-md; overflow:hidden; }
.lite-yt picture, .lite-yt img { width:100%; height:100%; object-fit:cover; display:block; }
.lite-yt-play { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; }
.lite-yt-play::after { content:''; width:68px; height:48px; background:rgba(0,0,0,.6); border-radius:14%; box-shadow:0 0 0 1px rgba(255,255,255,.25); background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="68" height="48" viewBox="0 0 68 48"><path fill="%23fff" d="M66.52 7.74a8 8 0 0 0-5.64-5.66C56.69 1 34 1 34 1S11.31 1 7.12 2.08a8 8 0 0 0-5.64 5.66A83 83 0 0 0 1 24a83 83 0 0 0 .48 16.26 8 8 0 0 0 5.64 5.66C11.31 47 34 47 34 47s22.69 0 26.88-1.08a8 8 0 0 0 5.64-5.66A83 83 0 0 0 67 24a83 83 0 0 0-.48-16.26ZM27 34V14l18 10Z"/></svg>'); background-repeat:no-repeat; background-position:center; transition:transform .3s; }
.lite-yt:hover .lite-yt-play::after { transform:scale(1.08); }
.lite-yt--activated img, .lite-yt--activated picture { display:none; }
// Defensive: ensure any activated lite-yt iframe stays in its bounds and doesn't overlay following content
.lite-yt iframe { position:absolute; inset:0; width:100%; height:100%; z-index:1; }
.latest-video-links { position:relative; z-index:2; }
